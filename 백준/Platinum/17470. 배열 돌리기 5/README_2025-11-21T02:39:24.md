# [Platinum IV] ë°°ì—´ ëŒë¦¬ê¸° 5 - 17470 

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/17470) 

### ë¶„ë¥˜

êµ¬í˜„

### ë¬¸ì œ ì„¤ëª…

<p>í¬ê¸°ê°€ NÃ—Mì¸ ë°°ì—´ì´ ìˆì„ ë•Œ, ë°°ì—´ì— ì—°ì‚°ì„ Rë²ˆ ì ìš©í•˜ë ¤ê³  í•œë‹¤. ì—°ì‚°ì€ ì´ 6ê°€ì§€ê°€ ìˆë‹¤.</p>

<p>1ë²ˆ ì—°ì‚°ì€ ë°°ì—´ì„ ìƒí•˜ ë°˜ì „ì‹œí‚¤ëŠ” ì—°ì‚°ì´ë‹¤.</p>

<pre>1 6 2 9 8 4 â†’ 4 2 9 3 1 8
7 2 6 9 8 2 â†’ 9 2 3 6 1 5
1 8 3 4 2 9 â†’ 7 4 6 2 3 1
7 4 6 2 3 1 â†’ 1 8 3 4 2 9
9 2 3 6 1 5 â†’ 7 2 6 9 8 2
4 2 9 3 1 8 â†’ 1 6 2 9 8 4
   <ë°°ì—´>       <ì—°ì‚° ê²°ê³¼>
</pre>

<p>2ë²ˆ ì—°ì‚°ì€ ë°°ì—´ì„ ì¢Œìš° ë°˜ì „ì‹œí‚¤ëŠ” ì—°ì‚°ì´ë‹¤.</p>

<pre>1 6 2 9 8 4 â†’ 4 8 9 2 6 1
7 2 6 9 8 2 â†’ 2 8 9 6 2 7
1 8 3 4 2 9 â†’ 9 2 4 3 8 1
7 4 6 2 3 1 â†’ 1 3 2 6 4 7
9 2 3 6 1 5 â†’ 5 1 6 3 2 9
4 2 9 3 1 8 â†’ 8 1 3 9 2 4
   <ë°°ì—´>       <ì—°ì‚° ê²°ê³¼>
</pre>

<p>3ë²ˆ ì—°ì‚°ì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ 90ë„ íšŒì „ì‹œí‚¤ëŠ” ì—°ì‚°ì´ë‹¤.</p>

<pre>1 6 2 9 8 4 â†’ 4 9 7 1 7 1
7 2 6 9 8 2 â†’ 2 2 4 8 2 6
1 8 3 4 2 9 â†’ 9 3 6 3 6 2
7 4 6 2 3 1 â†’ 3 6 2 4 9 9
9 2 3 6 1 5 â†’ 1 1 3 2 8 8
4 2 9 3 1 8 â†’ 8 5 1 9 2 4
   <ë°°ì—´>       <ì—°ì‚° ê²°ê³¼>
</pre>

<p>4ë²ˆ ì—°ì‚°ì€ ì™¼ìª½ìœ¼ë¡œ 90ë„ íšŒì „ì‹œí‚¤ëŠ” ì—°ì‚°ì´ë‹¤.</p>

<pre>1 6 2 9 8 4 â†’ 4 2 9 1 5 8
7 2 6 9 8 2 â†’ 8 8 2 3 1 1
1 8 3 4 2 9 â†’ 9 9 4 2 6 3
7 4 6 2 3 1 â†’ 2 6 3 6 3 9
9 2 3 6 1 5 â†’ 6 2 8 4 2 2
4 2 9 3 1 8 â†’ 1 7 1 7 9 4
   <ë°°ì—´>       <ì—°ì‚° ê²°ê³¼>
</pre>

<p>5, 6ë²ˆ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë°°ì—´ì„ í¬ê¸°ê°€ N/2Ã—M/2ì¸ 4ê°œì˜ ë¶€ë¶„ ë°°ì—´ë¡œ ë‚˜ëˆ ì•¼ í•œë‹¤. ì•„ë˜ ê·¸ë¦¼ì€ í¬ê¸°ê°€ 6Ã—8ì¸ ë°°ì—´ì„ 4ê°œì˜ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆˆ ê²ƒì´ê³ , 1ë¶€í„° 4ê¹Œì§€ì˜ ìˆ˜ë¡œ ë‚˜íƒ€ëƒˆë‹¤.</p>

<pre>1 1 1 1 2 2 2 2
1 1 1 1 2 2 2 2
1 1 1 1 2 2 2 2
4 4 4 4 3 3 3 3
4 4 4 4 3 3 3 3
4 4 4 4 3 3 3 3</pre>

<p>5ë²ˆ ì—°ì‚°ì€ 1ë²ˆ ê·¸ë£¹ì˜ ë¶€ë¶„ ë°°ì—´ì„ 2ë²ˆ ê·¸ë£¹ ìœ„ì¹˜ë¡œ, 2ë²ˆì„ 3ë²ˆìœ¼ë¡œ, 3ë²ˆì„ 4ë²ˆìœ¼ë¡œ, 4ë²ˆì„ 1ë²ˆìœ¼ë¡œ ì´ë™ì‹œí‚¤ëŠ” ì—°ì‚°ì´ë‹¤.</p>

<pre>3 2 6 3 1 2 9 7 â†’ 2 1 3 8 3 2 6 3
9 7 8 2 1 4 5 3 â†’ 1 3 2 8 9 7 8 2
5 9 2 1 9 6 1 8 â†’ 4 5 1 9 5 9 2 1
2 1 3 8 6 3 9 2 â†’ 6 3 9 2 1 2 9 7
1 3 2 8 7 9 2 1 â†’ 7 9 2 1 1 4 5 3
4 5 1 9 8 2 1 3 â†’ 8 2 1 3 9 6 1 8
     <ë°°ì—´>            <ì—°ì‚° ê²°ê³¼>
</pre>

<p>6ë²ˆ ì—°ì‚°ì€ 1ë²ˆ ê·¸ë£¹ì˜ ë¶€ë¶„ ë°°ì—´ì„ 4ë²ˆ ê·¸ë£¹ ìœ„ì¹˜ë¡œ, 4ë²ˆì„ 3ë²ˆìœ¼ë¡œ, 3ë²ˆì„ 2ë²ˆìœ¼ë¡œ, 2ë²ˆì„ 1ë²ˆìœ¼ë¡œ ì´ë™ì‹œí‚¤ëŠ” ì—°ì‚°ì´ë‹¤.</p>

<pre>3 2 6 3 1 2 9 7 â†’ 1 2 9 7 6 3 9 2
9 7 8 2 1 4 5 3 â†’ 1 4 5 3 7 9 2 1
5 9 2 1 9 6 1 8 â†’ 9 6 1 8 8 2 1 3
2 1 3 8 6 3 9 2 â†’ 3 2 6 3 2 1 3 8
1 3 2 8 7 9 2 1 â†’ 9 7 8 2 1 3 2 8
4 5 1 9 8 2 1 3 â†’ 5 9 2 1 4 5 1 9
     <ë°°ì—´>            <ì—°ì‚° ê²°ê³¼>
</pre>

### ì…ë ¥ 

 <p>ì²«ì§¸ ì¤„ì— ë°°ì—´ì˜ í¬ê¸° N, Mê³¼ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì—°ì‚°ì˜ ìˆ˜ Rì´ ì£¼ì–´ì§„ë‹¤.</p>

<p>ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì— ë°°ì—´ Aì˜ ì›ì†Œ A<sub>ij</sub>ê°€ ì£¼ì–´ì§„ë‹¤.</p>

<p>ë§ˆì§€ë§‰ ì¤„ì—ëŠ” ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì—°ì‚°ì´ ì£¼ì–´ì§„ë‹¤. ì—°ì‚°ì€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ì ¸ ìˆê³ , ë¬¸ì œì—ì„œ ì„¤ëª…í•œ ì—°ì‚° ë²ˆí˜¸ì´ë©°, ìˆœì„œëŒ€ë¡œ ì ìš©ì‹œì¼œì•¼ í•œë‹¤.</p>

### ì¶œë ¥ 

 <p>ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ë°°ì—´ì— Rê°œì˜ ì—°ì‚°ì„ ìˆœì„œëŒ€ë¡œ ìˆ˜í–‰í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.</p>



#  ğŸš€  ì˜¤ë‹µë…¸íŠ¸ 

```diff
import java.io.*;
import java.util.*;

public class Main {

    private static boolean colFlip = false;
    private static boolean rowFlip = false;
    private static int turn = 0;

    public static void main(String[] args) throws IOException {
        BufferedReader buffer = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(buffer.readLine());
        StringBuilder sb = new StringBuilder();
        int n = Integer.parseInt(st.nextToken());
        int m = Integer.parseInt(st.nextToken());
        int r = Integer.parseInt(st.nextToken());
        
        int[][] board = new int[n][m];

        for (int i = 0; i < n; ++i) {
            board[i] = Arrays.stream(buffer.readLine().split(" "))
                    .mapToInt(Integer::parseInt)
                    .toArray();
        }

        int[][] compositions = {{1, 2}, {4, 3}};
        Map<Integer, int[][]> map = new HashMap<>();
        putMapInfo(board, map, n, m);

        st = new StringTokenizer(buffer.readLine());

        while (st.hasMoreTokens()) {
            int oper = Integer.parseInt(st.nextToken());

            switch (oper) {
                case 1:
                    oper1(compositions);
                    if (turn % 2 == 0) {
                        rowFlip = !rowFlip;
                    } else {
                        colFlip = !colFlip;
                    }
                    break;

                case 2:
                    oper2(compositions);
                    if (turn % 2 == 0) {
                        colFlip = !colFlip;
                    } else {
                        rowFlip = !rowFlip;
                    }
                    break;

                case 3:
                    compositions = oper3(compositions);
                    ++turn;
                    turn %= 4;
                    break;

                case 4:
                    compositions = oper4(compositions);
                    turn = --turn + 4;
                    turn %= 4;
                    break;

                case 5:
                    compositions = oper5(compositions);
                    break;

                case 6:
                    compositions = oper6(compositions);
                    break;
            }
        }

        if (turn % 2 != 0) {
            int temp = n;
            n = m;
            m = temp;
        }

        int[][] result = new int[n][m];
        for (int i = 0; i < 2; ++i) {
            for (int j = 0; j < 2; ++j) {
                int[][] content = map.get(compositions[i][j]);

                if (rowFlip) {
                    oper1(content);
                }

                if (colFlip) {
                    oper2(content);
                }

                if (turn > 0) {
                    for (int k = 0; k < turn; ++k) {
                        content = oper3(content);
                    }
                }

                if (i == 0 && j == 0) {
                    for (int a = 0; a < n / 2; ++a) {
                        for (int b = 0; b < m / 2; ++b) {
                            result[a][b] = content[a][b];
                        }
                    }
                    continue;
                }

                if (i == 0) {
                    for (int a = 0; a < n / 2; ++a) {
                        for (int b = m / 2; b < m; ++b) {
                            result[a][b] = content[a][b - (m / 2)];
                        }
                    }
                    continue;
                }

                if (j == 1) {
                    for (int a = n / 2; a < n; ++a) {
                        for (int b = m / 2; b < m; ++b) {
                            result[a][b] = content[a - (n / 2)][b - (m / 2)];
                        }
                    }
                    continue;
                }

                for (int a = n / 2; a < n; ++a) {
                    for (int b = 0; b < m / 2; ++b) {
                        result[a][b] = content[a - (n / 2)][b];
                    }
                }
            }
        }


        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < m; ++j) {
                sb.append(result[i][j]).append(" ");
            }
            sb.append("\n");
        }

        System.out.println(sb.toString());
    }

    private static void oper1(int[][] arr) {
        // 1 2
        // 4 3
        int n = arr.length;
        int half_n = arr.length / 2;
        int m = arr[0].length;
        for (int j = 0; j < m; ++j) {
            for (int i = 0; i < half_n; ++i) {
                int temp = arr[i][j];
                arr[i][j] = arr[n - 1 - i][j];
                arr[n - 1 - i][j] = temp;
            }
        }
    }

    private static void oper2(int[][] arr) {
        int n = arr.length;
        int m = arr[0].length;
        int half_m = m / 2;

        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < half_m; ++j) {
                int temp = arr[i][j];
                arr[i][j] = arr[i][m - 1 - j];
                arr[i][m - 1 - j] = temp;
            }
        }
    }

    private static int[][] oper3(int[][] arr) {
        int n = arr.length;
        int m = arr[0].length;
        int[][] result = new int[m][n];

        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < n; ++j) {
                result[i][j] = arr[n - 1 - j][i];
            }
        }
        return result;
    }

    private static int[][] oper4(int[][] arr) {
        int n = arr.length;
        int m = arr[0].length;
        int[][] result = new int[m][n];

        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < n; ++j) {
                result[i][j] = arr[j][m - 1 - i];
            }
        }

        return result;
    }

    private static int[][] oper5(int[][] compositions) {
        int[][] result = new int[2][2];

        result[0][0] = compositions[1][0];
        result[0][1] = compositions[0][0];
        result[1][1] = compositions[0][1];
        result[1][0] = compositions[1][1];

        return result;
    }

    private static int[][] oper6(int[][] compositions) {
        int[][] result = new int[2][2];

        result[0][0] = compositions[0][1];
        result[0][1] = compositions[1][1];
        result[1][1] = compositions[1][0];
        result[1][0] = compositions[0][0];

        return result;
    }

    private static void putMapInfo(int[][] board, Map<Integer, int[][]> map,
                                   int n, int m) {
        int half_n = n / 2;
        int half_m = m / 2;

        int[][] one = new int[half_n][half_m];
        for (int i = 0; i < half_n; ++i) {
            for (int j = 0; j < half_m; ++j) {
                one[i][j] = board[i][j];
            }
        }
        map.put(1, one);

        int[][] two = new int[half_n][half_m];
        for (int i = 0; i < half_n; ++i) {
            for (int j = half_m; j < m; ++j) {
                two[i][j - half_m] = board[i][j];
            }
        }
        map.put(2, two);

        int[][] three = new int[half_n][half_m];
        for (int i = half_n; i < n; ++i) {
            for (int j = half_m; j < m; ++j) {
                three[i - half_n][j - half_m] = board[i][j];
            }
        }
        map.put(3, three);

        int[][] four = new int[half_n][half_m];
        for (int i = half_n; i < n; ++i) {
            for (int j = 0; j < half_m; ++j) {
                four[i - half_n][j] = board[i][j];
            }
        }
        map.put(4, four);
    }
}
```

# ğŸ’» ì½”ë“œ ë¦¬ë·°




 ## ğŸ† ë©”ëª¨ 

ì§„ì§œ ë””ì§€ê²Œ ì´í•´ ì•ˆë˜ë„¤