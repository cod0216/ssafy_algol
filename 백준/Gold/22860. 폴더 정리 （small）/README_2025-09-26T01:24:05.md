# [Gold III] í´ë” ì •ë¦¬ (small) - 22860 

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/22860) 

### ë¶„ë¥˜

ìë£Œ êµ¬ì¡°, ê¹Šì´ ìš°ì„  íƒìƒ‰, ê·¸ë˜í”„ ì´ë¡ , ê·¸ë˜í”„ íƒìƒ‰, í•´ì‹œë¥¼ ì‚¬ìš©í•œ ì§‘í•©ê³¼ ë§µ, ë¬¸ìì—´, íŠ¸ë¦¬, ì§‘í•©ê³¼ ë§µ

### ë¬¸ì œ ì„¤ëª…

<p>ì´ë¦„ì´ <code>main</code> í´ë” ì•ˆì— ì—¬ëŸ¬ê°€ì§€ íŒŒì¼ê³¼ í´ë”ê°€ ì¡´ì¬í•œë‹¤.</p>

<pre>main
 â”œâ”€ FolderA
 â”‚    â”œâ”€ File1
 â”‚    â””â”€ File2
 â””â”€ FolderB
       â”œâ”€ FolderC
       â”œâ”€ File1
       â””â”€ File3</pre>

<p>ìœ„ êµ¬ì¡°ëŠ” <code>main</code> í´ë”ì˜ í•˜ìœ„ êµ¬ì¡°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ í‘œì‹œí•œ ê²ƒì´ë‹¤. <code>FolderA</code>, <code>FolderB</code>, <code>FolderC</code>ëŠ” í´ë”ì´ê³  <code>File1</code>, <code>File2</code>, <code>File3</code>ì€ íŒŒì¼ì´ë‹¤. íŒŒì¼ ì´ë¦„ì´ ê°™ì€ ê²½ìš°ëŠ” ë™ì¼í•œ íŒŒì¼ì´ë‹¤.</p>

<p>í•œ í´ë” ì•ˆì—ëŠ” ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ì´ ë‘ ê°œ ì´ìƒ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.</p>

<p><code>main</code> í•˜ìœ„ ë””ë ‰í† ë¦¬ì— ê°™ì€ ì´ë¦„ì˜ í´ë”ê°€ ë‘ ê°œ ì´ìƒ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.</p>

<p>í´ë” ì •ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ <code>main</code> í´ë” í•˜ìœ„ì— ìˆëŠ” íŒŒì¼ë“¤ì„ í™•ì¸í•˜ë ¤ê³  í•œë‹¤.</p>

<p>ì£¼ì–´ì§€ëŠ” ì¿¼ë¦¬ì— ëŒ€í•´ í´ë”ì™€ íŒŒì¼ì˜ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ì–´ë³´ì.</p>

### ì…ë ¥ 

 <p>ì²« ë²ˆì§¸ ì¤„ì—ëŠ” <code>main</code> í´ë” í•˜ìœ„ì— ìˆëŠ” í´ë”ì˜ ì´ ê°œìˆ˜ $N$ê³¼ íŒŒì¼ì˜ ì´ ê°œìˆ˜ $M$ì´ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤.</p>

<p>ë‘ ë²ˆì§¸ ì¤„ë¶€í„° $N + M + 1$ ë²ˆì§¸ê¹Œì§€ ìƒìœ„ í´ë”ì˜ ì´ë¦„ $P$, í´ë” ë˜ëŠ” íŒŒì¼ì˜ ì´ë¦„ $F$, í´ë”ì¸ì§€ ì•„ë‹Œì§€ ì•Œë ¤ì£¼ëŠ” $C$ê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤.</p>

<p>$C$ì˜ ê°’ì€ $F$ê°€ í´ë”ë¼ë©´ 1, íŒŒì¼ì´ë¼ë©´ 0ìœ¼ë¡œ ì£¼ì–´ì§„ë‹¤.</p>

<p>$N + M + 2$ ë²ˆì§¸ ì¤„ì—ëŠ” ì¿¼ë¦¬ì˜ ê°œìˆ˜ $Q$ê°€ ì£¼ì–´ì§„ë‹¤.</p>

<p>ê·¸ ë‹¤ìŒì¤„ë¶€í„° $Q$ê°œì˜ ì¿¼ë¦¬ê°€ ì£¼ì–´ì§„ë‹¤. ì¿¼ë¦¬ë§ˆë‹¤ <code>main</code>ë¶€í„° í´ë”ì˜ ê²½ë¡œ ì •ë³´ê°€ ë“¤ì–´ì˜¨ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ <code>main</code> í´ë” ì•ˆì— <code>FolderB</code>ì— ëŒ€í•œ ì¿¼ë¦¬ê°€ ë“¤ì–´ì˜¨ë‹¤ë©´, <code>FolderB</code>ì˜ ê²½ë¡œì¸ <code><q>main/FolderB</q></code>ë¡œ ì£¼ì–´ì§„ë‹¤. ë°˜ë“œì‹œ í´ë”ê°€ ì¡´ì¬í•˜ëŠ” ê²½ë¡œë¡œ ì£¼ì–´ì§ì„ ë³´ì¥í•œë‹¤.</p>

### ì¶œë ¥ 

 <p>ì¿¼ë¦¬ ìˆœì„œëŒ€ë¡œ í•œ ì¤„ì”© í´ë” í•˜ìœ„ì— ìˆëŠ” íŒŒì¼ì˜ ì¢…ë¥˜ì˜ ê°œìˆ˜ì™€ íŒŒì¼ì˜ ì´ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.</p>

<p>íŒŒì¼ì˜ ì¢…ë¥˜ì˜ ê°œìˆ˜ëŠ” ê°™ì€ íŒŒì¼ì´ ì—¬ëŸ¬ê°œ ìˆì„ ê²½ìš° í•˜ë‚˜ë¡œ ê³„ì‚°í•œë‹¤. íŒŒì¼ì˜ ì´ ê°œìˆ˜ëŠ” ê°™ì€ íŒŒì¼ì´ ìˆë”ë¼ë„ í•˜ë‚˜ë¡œ ê³„ì‚°í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<p>ì˜ˆë¥¼ ë“¤ì–´ ì´ë¦„ì´ <code>File1</code> íŒŒì¼ì´ 5ê°œê°€ ìˆì„ ê²½ìš° íŒŒì¼ì˜ ì¢…ë¥˜ëŠ” 1 ê°€ì§€ì´ê³  íŒŒì¼ì˜ ì´ ê°œìˆ˜ëŠ” 5ê°œì´ë‹¤.</p>



#  ğŸš€  ì˜¤ë‹µë…¸íŠ¸ 

```diff
import java.io.*;
import java.util.*;

public class Main {
    static Map<String, List<String>> folderMap = new HashMap<>();
    static Map<String, List<String>> fileMap = new HashMap<>();
    static int count;
    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        int N = Integer.parseInt(st.nextToken());
        int M = Integer.parseInt(st.nextToken());

        for (int i = 0; i < N + M; i++) {
            st = new StringTokenizer(br.readLine());
            String parent = st.nextToken();
            String child = st.nextToken();
            int type = Integer.parseInt(st.nextToken());

            if (type == 1) { // í´ë”
                folderMap.computeIfAbsent(parent, k -> new ArrayList<>()).add(child);
            } else { // íŒŒì¼
                fileMap.computeIfAbsent(parent, k -> new ArrayList<>()).add(child);
            }
        }

        int Q = Integer.parseInt(br.readLine());
        StringBuilder sb = new StringBuilder();

        for (int i = 0; i < Q; i++) {
            String path = br.readLine();
            String[] split = path.split("/"); 
            String target = split[split.length - 1]; 

            Set<String> fileTypes = new HashSet<>();
            count = 0;

            DFS(target, fileTypes);

            sb.append(fileTypes.size()).append(" ").append(count).append("\n");
        }

        System.out.print(sb);
    }

    static void DFS(String cur, Set<String> fileTypes) {
        if (fileMap.containsKey(cur)) {
            for (String f : fileMap.get(cur)) {
                fileTypes.add(f);
                count++;
            }
        }

        if (folderMap.containsKey(cur)) {
            for (String next : folderMap.get(cur)) {
                DFS(next, fileTypes);
            }
        }
    }
}

```

# ğŸ’» ì½”ë“œ ë¦¬ë·°




 ## ğŸ† ë©”ëª¨ 

