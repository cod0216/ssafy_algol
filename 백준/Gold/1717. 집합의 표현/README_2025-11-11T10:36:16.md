# [Gold V] μ§‘ν•©μ ν‘ν„ - 1717 

[λ¬Έμ  λ§ν¬](https://www.acmicpc.net/problem/1717) 

### λ¶„λ¥

μλ£ κµ¬μ΅°, λ¶„λ¦¬ μ§‘ν•©

### λ¬Έμ  μ„¤λ…

<p>μ΄κΈ°μ— $n+1$κ°μ μ§‘ν•© $\{0\}, \{1\}, \{2\}, \dots , \{n\}$μ΄ μλ‹¤. μ—¬κΈ°μ— ν•©μ§‘ν•© μ—°μ‚°κ³Ό, λ‘ μ›μ†κ°€ κ°™μ€ μ§‘ν•©μ— ν¬ν•¨λμ–΄ μλ”μ§€λ¥Ό ν™•μΈν•λ” μ—°μ‚°μ„ μν–‰ν•λ ¤κ³  ν•λ‹¤.</p>

<p>μ§‘ν•©μ„ ν‘ν„ν•λ” ν”„λ΅κ·Έλ¨μ„ μ‘μ„±ν•μ‹μ¤.</p>

### μ…λ ¥ 

 <p>μ²«μ§Έ μ¤„μ— $n$, $m$μ΄ μ£Όμ–΄μ§„λ‹¤. $m$μ€ μ…λ ¥μΌλ΅ μ£Όμ–΄μ§€λ” μ—°μ‚°μ κ°μμ΄λ‹¤. λ‹¤μ $m$κ°μ μ¤„μ—λ” κ°κ°μ μ—°μ‚°μ΄ μ£Όμ–΄μ§„λ‹¤. ν•©μ§‘ν•©μ€ $0$ $a$ $b$μ ν•νƒλ΅ μ…λ ¥μ΄ μ£Όμ–΄μ§„λ‹¤. μ΄λ” $a$κ°€ ν¬ν•¨λμ–΄ μλ” μ§‘ν•©κ³Ό, $b$κ°€ ν¬ν•¨λμ–΄ μλ” μ§‘ν•©μ„ ν•©μΉλ‹¤λ” μλ―Έμ΄λ‹¤. λ‘ μ›μ†κ°€ κ°™μ€ μ§‘ν•©μ— ν¬ν•¨λμ–΄ μλ”μ§€λ¥Ό ν™•μΈν•λ” μ—°μ‚°μ€ $1$ $a$ $b$μ ν•νƒλ΅ μ…λ ¥μ΄ μ£Όμ–΄μ§„λ‹¤. μ΄λ” $a$μ™€ $b$κ°€ κ°™μ€ μ§‘ν•©μ— ν¬ν•¨λμ–΄ μλ”μ§€λ¥Ό ν™•μΈν•λ” μ—°μ‚°μ΄λ‹¤.</p>

### μ¶λ ¥ 

 <p>1λ΅ μ‹μ‘ν•λ” μ…λ ¥μ— λ€ν•΄μ„ $a$μ™€ $b$κ°€ κ°™μ€ μ§‘ν•©μ— ν¬ν•¨λμ–΄ μμΌλ©΄ "<code>YES</code>" λλ” "<code>yes</code>"λ¥Ό, κ·Έλ ‡μ§€ μ•λ‹¤λ©΄ "<code>NO</code>" λλ” "<code>no</code>"λ¥Ό ν• μ¤„μ— ν•λ‚μ”© μ¶λ ¥ν•λ‹¤.</p>



#  π€  μ¤λ‹µλ…ΈνΈ 

```diff
import java.io.*;
import java.util.*;

public class Main {
    static int N, M, parents[];
    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        parents = new int[N+1];
        for(int i=1 ; i <= N ; i++) parents[i] = i;
        
        StringBuilder sb = new StringBuilder();
        for(int i=0 ; i < M ; i++){
            st = new StringTokenizer(br.readLine());
            int oper = Integer.parseInt(st.nextToken());
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());
            
            if(oper == 0){
                union(a,b);
            }else{
                int parentA = find(a);
                int parentB = find(b);
                sb.append(parentA == parentB ? "YES\n" : "NO\n");
            }
        }
        System.out.println(sb);
    }// end main
    
    private static void union(int a, int b){
        int parentA = find(a);
        int parentB = find(b);
        parents[parentB] = parentA;
    }
    
    private static int find(int a){
        int parentA = parents[a];
        if(parentA == a) return a;
-        return find(parentA);
+        return parents[a] = find(parentA);
    }
}

```

# π’» μ½”λ“ λ¦¬λ·°




 ## π† λ©”λ¨ 

